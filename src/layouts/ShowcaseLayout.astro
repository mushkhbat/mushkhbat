---
import "../styles/global.css";

const {
  title = "مشخبط",
  description = "وكالة مشخبط - نجمع بين الفن والتكنولوجيا لنقدم لكم تجارب رقمية فريدة ومبتكرة",
  image = "/mushkhbat-og-image.jpg",
  imageAlt = "مشخبط - وكالة الحلول الرقمية",
  canonical,
  noindex = false,
  publishDate,
  tags = []
} = Astro.props;

const canonicalURL = canonical || new URL(Astro.url.pathname, Astro.site);
---

<!doctype html>
<html lang="ar" dir="rtl" class="scroll-smooth">
	<head>
		<meta charset="UTF-8" />
		<meta name="description" content={description} />
		<meta name="viewport" content="width=device-width" />
		<meta name="generator" content={Astro.generator} />
		
		<!-- Title -->
		<title>{title}</title>
		
		<!-- Canonical URL -->
		<link rel="canonical" href={canonicalURL} />
		
		<!-- Robots Meta -->
		{noindex && <meta name="robots" content="noindex, nofollow" />}
		
		<!-- Open Graph / Facebook -->
		<meta property="og:type" content="article" />
		<meta property="og:url" content={canonicalURL} />
		<meta property="og:title" content={title} />
		<meta property="og:description" content={description} />
		<meta property="og:image" content={new URL(image, Astro.site)} />
		<meta property="og:image:alt" content={imageAlt} />
		<meta property="og:locale" content="ar_SA" />
		<meta property="og:site_name" content="مشخبط" />
		{publishDate && <meta property="article:published_time" content={publishDate} />}
		{tags.length > 0 && tags.map(tag => <meta property="article:tag" content={tag} />)}
		
		<!-- Twitter -->
		<meta property="twitter:card" content="summary_large_image" />
		<meta property="twitter:url" content={canonicalURL} />
		<meta property="twitter:title" content={title} />
		<meta property="twitter:description" content={description} />
		<meta property="twitter:image" content={new URL(image, Astro.site)} />
		<meta property="twitter:image:alt" content={imageAlt} />
		<meta property="twitter:site" content="@mushkhbat" />
		
		<!-- Favicon -->
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
		<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
		<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
		
		<!-- Additional Meta -->
		<meta name="theme-color" content="#000000" />
		<meta name="author" content="مشخبط" />
		{tags.length > 0 && <meta name="keywords" content={tags.join(', ')} />}
		
		<!-- Structured Data -->
		<script type="application/ld+json">
			{JSON.stringify({
				"@context": "https://schema.org",
				"@type": "Article",
				"headline": title,
				"description": description,
				"image": new URL(image, Astro.site),
				"datePublished": publishDate,
				"author": {
					"@type": "Organization",
					"name": "مشخبط"
				},
				"publisher": {
					"@type": "Organization",
					"name": "مشخبط",
					"logo": {
						"@type": "ImageObject",
						"url": new URL("/mushkhbat-logo.svg", Astro.site)
					}
				}
			})}
		</script>
	</head>
	<body
		class="bg-black text-white font-janna antialiased"
	>
		<header class="flex justify-center p-4 md:p-6 container mx-auto">
			<a href="/" class="w-24 md:w-32">
				<img src="/mushkhbat-logo.svg" alt="مشخبط" />
			</a>
			<nav class="flex-1 flex justify-end items-center">
				<a href="/showcases" class="mx-2 hover:text-gray-200">أعمالنا</a>
			</nav>
		</header>

		<main class="py-8">
      <article class="prose prose-invert prose-lg mx-auto px-4 md:px-8 lg:px-12">
        <slot />
      </article>
    </main>

		<footer class="text-center p-8 text-gray-400">
			<div class="mb-4">
				<a href="/rss.xml" class="mx-2 hover:text-gray-200">آخر التدوينات</a>
				<a href="https://twitter.com/mushkhbat" target="_blank" class="mx-2 hover:text-gray-200">تويتر</a>
				<a href="https://github.com/mushkhbat" target="_blank" class="mx-2 hover:text-gray-200">غيت هب</a>
				<a href="https://instagram.com/mushkhbat" target="_blank" class="mx-2 hover:text-gray-200">انستاغرام</a>
			</div>
			<p>© وكالة مشخبط ٢٠٢٢ - ٢٠٢٥.</p>
		</footer>
	</body>
</html> 